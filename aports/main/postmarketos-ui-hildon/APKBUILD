pkgname=postmarketos-ui-hildon
pkgver=1
pkgrel=4
pkgdesc="(X11) Lightweight GTK+2 UI (optimized for single-touch touchscreens)"
url="https://github.com/postmarketOS"
arch="noarch"
license="GPL3+"
depends="
	dbus-x11
	hildon-desktop
	hildon-theme-alpha
	mesa
	xorg-server
	xinput
"
makedepends=""
install="$pkgname.post-install"
subpackages=""
source="
	start_hildon.sh
	xinitrc_hildon.sh
	x11-fbdev-rotate.conf
"
options="!check"

package() {
	# Default theme
	mkdir -p "$pkgdir"/usr/share/themes
	ln -s /usr/share/themes/alpha "$pkgdir"/usr/share/themes/default

	# Autostart via autologin on TTY0 (until we have a display manager #656)
	install -D -m644 "$srcdir"/start_hildon.sh \
		"$pkgdir"/etc/profile.d/start_hildon.sh
	install -D -m644 "$srcdir"/xinitrc_hildon.sh \
		"$pkgdir"/etc/postmarketos-ui/xinitrc_hildon.sh
	install -D -m644 "$srcdir"/x11-fbdev-rotate.conf \
		"$pkgdir"/etc/X11/xorg.conf.d/00-fbdev-rotate.conf
}

sha512sums="6c446fd2c0c50b10bf3bd4da93520b975f3632dab24c34eb33f22af7fdd2d96b8d7b605a4aee0c8e2544f56b7fd2dfc0ad39dc57b11cb2eb8c952f823d1b2987  start_hildon.sh
cd38906c096660ef976a836faa7f3706da1f52adc93911c6c9ef6a0ab2f1d594f2a696fea5c34bcad16ef899e196827d1b5b89c8691a3c395ebb31977d7aefd2  xinitrc_hildon.sh
7b05ac71c2255fc0768d1b93761166ab749c1499d43845482cbbb5792b8482a55e3e6ededf8cc99a254c2c1ecceae07faaf4a025154b4a95060d5c46a203e1c6  x11-fbdev-rotate.conf"
